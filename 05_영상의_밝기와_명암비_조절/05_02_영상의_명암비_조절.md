## 1. 기본적인 명암비 조절 방법
* 명암비란 영상에서 밝은 영역과 어두운 영역 사이에 드러나는 밝기 차이의 강도를 의미하고, 명암 대비 또는 콘트라스트(contrast)라고도 함
* 영상이 전반적으로 어둡거나 또는 전반적으로 밝은 픽셀로만 구성된 경우, 명암비가 낮다고 표현하고 밝은 영역과 어두운 영역이 골고루 섞여 있는 영상은 명암비가 높다고 표현
* 명암비가 높을 경우 영상이 더 뚜렷해 보이고 선명해 보이는 효과를 낼 수 있음
* 픽셀의 밝기 값을 이용해 명암비를 높히거나 낮출 수 있음 
* 명암비 조절은 기본적으로 곱셈 연산을 사용하여 구현
* 명암비 조절 수식: src는 입력 영상, dst는 출력 영상, 그리고 상수 s는 0보다 큰 양의 실수, s를 곱한 결과가 255보다 커지는 경우가 발생할 수 있으므로 포화 연산도 함께 사용
<br/> dst(x, y) = saturate(src(x, y) * s)
```cpp
// 기본적인 영상의 명암비 증가 예제
void contrast1()
{
  Mat src = imread("lenna.bmp", IMREAD_GRAYSCALE);
   
  if (src.empty()) {
    cerr << "Image load failed!" << endl;
    return;
  }
  
  // 입력영상의 각 픽셀 값을 2배로 만들어서 128이상의 픽셀값을 갖는 경우는 모두 255값을 갖고 128 이하의 픽셀값을 갖는 경우 명암비가 2배 차이가 나게 됨
  // 따라서 dst 영상을 보면 전체적으로 픽셀 값이 포화되어 흰색으로 나타나는 영역이 너무 많으며, 이로 인해 사물의 윤곽 구분이 더 어려워짐
  float s = 2.f;
  Mat dst = s * src;
  
  imshow("src", src);
  imshow("dst", dst);
    
  waitKey();
  destroyAllWindows();
}
```

## 효과적인 명암비 조절 방법
* 명암비를 효과적으로 높이기 위해서는 밝은 픽셀은 더욱 밝게, 어두운 픽셀은 더욱 어두워지게 변경해야 하는데 픽셀 값이 밝고 어둡다는 기준을 어떻게 설정할 것인지가 명암비 조절 결과 영상의 품질 차이를 가져올 수 있음
* 이 때 그레이스케일 범위 중간값인 128을 기준으로 설정할 수도 있고, 입력 영상의 평균 밝기를 구하여 기준으로 삼을 수도 있음 
* 효과적인 명암비 조절 수식: 픽셀 값이 128을 기준으로 더하는 값의 부호가 바뀜, s의 범위가 [-1 ≤ s] 여야 색이 반전이 안되고 명암비를 조절 할 수 있음, s의 범위가 [-1 ≤ s ≤ 0] 이라면 명암비가 감소, s의 범위가 [0 < s] 이라면 명암비를 증가
<br/> dst(x, y) = saturate(src(x, y) + (src(x, y) - 128) * s)  
* 위의 수식을 적용할 경우 대부분의 영상에서 픽셀 값이 0 또는 255에 가까운 픽셀보다 중간 밝기의 픽셀이 많기 때문에 포화 연산의 영향을 받는 픽셀은 그리 많지 않음
```cpp
// 효과적인 영상의 명암비 조절 방법
void contrast2()
{
  Mat src = imread("lenna.bmp", IMREAD_GRAYSCALE);
     
  if (src.empty()) {
    cerr << "Image load failed!" << endl; 
    return;
  }
  
  // s값이 1이기 떄문에 픽셀 값 128 기준으로 128보다 높으면 1 ~ 127을 더하고 128보다 낮은 픽셀들은 -127 ~ -1 값을 더함
  // 따라서 s값이 1일 경우 픽셀 값 128 기준으로 128보다 높으면 더 밝아지고 128보다 낮으면 더 어두워져 효과적으로 명암비 차이를 낼 수 있음
  float s = 1.f;
  Mat dst = src + (src - 128) * s;
  
  imshow("src", src); 
  imshow("dst", dst);
     
  waitKey();
  destroyAllWindows();
}
```
