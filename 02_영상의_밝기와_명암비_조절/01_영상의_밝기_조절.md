# 영상의 밝기 조절

### 그레이스케일 영상 다루기 
* 과거에 개발되었던 많은 영상 처리 알고리즘이 주로 그레이스케일 영상을 대상으로 개발되어 대부분의 영상 처리 알고리즘은 컬러 영상이 아니라 그레이스케일 영상을 대상으로 한다
* 컬러 영상은 그레이스케일 영상을 다루는 것보다 3배 많은 메모리와 연산 시간을 필요로 하기 때문에 특별히 컬러 정보가 필요 없는 영상 처리일 경우 그레이스케일 영상을 대상으로 한다 
```cpp
// 그레이스케일 형태의 Mat 객체를 생성하는 세가지 방법

// 첫번째
Mat img1 = imread("이미지.bmp", IMREAD_GRAYSCALE);
// 처음 불러올 때 그레이스케일 영상으로 이미지를 불러온다

// 두번째
Mat img2(480, 640, CV_8UC1, Scalar(0));
// 모든 픽셀 값이 0으로 초기화 된 640x480 그레이스케일 영상을 생성한다
// 새로운 그레이스케일 Mat 객체를 생성하려면 CV_8UC1 타입을 가져야 한다

// 세번째
Mat img3 = imread("이미지.bmp", IMREAD_COLOR);
Mat img4;
cvtColor(img3, img4, COLOR_BGR2GRAY);
// img3의 이미지인 BGR 3채널 컬러 영상을 1채널 그레이스케일 영상으로 변환하여 img4에 저장한다
```
* OpenCV 함수 중에는 그레이스케일 영상만을 입력으로 받는 함수도 있고, 반대로 BGR 3채널 컬러 영상만을 입력으로 받는 함수가 있다
```cpp
// 전달된 영상이 그레이스케일 영상인지 확인하는 방법
void func(Mat& img)
{
  CV_Assert(img.type() == CV_8UC1); // 조건식이 거짓이면 에러가 발생하며 프로그램이 종료
  
  // 그레이스케일 영상 처리 수행
}
```
